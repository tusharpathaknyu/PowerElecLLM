{
  "level": 1,
  "solutions": [
    {
      "id": "L1_041",
      "prompt": "Design a buck converter: 72V e-bike battery to 12V, 8A for lighting and accessories",
      "solution": {
        "topology": "buck",
        "vin": 72.0,
        "vout": 12.0,
        "iout": 8.0,
        "power": 96.0,
        "f_sw": 200000,
        "duty_cycle": 0.167,
        "components": {
          "L": {"value": 68e-6, "unit": "H", "rating": "10A saturation"},
          "C_out": {"value": 330e-6, "unit": "F", "type": "electrolytic + ceramic hybrid"},
          "C_in": {"value": 22e-6, "unit": "F", "type": "ceramic 100V"},
          "R_load": {"value": 1.5, "unit": "Ω"}
        },
        "design_equations": {
          "duty_cycle": "D = Vout/Vin = 12/72 = 0.167",
          "inductor": "L = Vout*(1-D)/(f_sw*ΔIL) = 12*(1-0.167)/(200e3*1.6) = 31µH → 68µH",
          "capacitor": "C = ΔIL/(8*f_sw*ΔVout) = 1.6/(8*200e3*0.06) = 17µF → 330µF"
        },
        "expected_results": {
          "vout_actual": 12.0,
          "ripple_mv": 50,
          "efficiency_est": 0.92
        }
      }
    },
    {
      "id": "L1_042",
      "prompt": "Design a boost converter: 9V battery pack to 24V, 1.5A for portable amplifier",
      "solution": {
        "topology": "boost",
        "vin": 9.0,
        "vout": 24.0,
        "iout": 1.5,
        "power": 36.0,
        "f_sw": 300000,
        "duty_cycle": 0.625,
        "components": {
          "L": {"value": 22e-6, "unit": "H", "rating": "6A saturation"},
          "C_out": {"value": 100e-6, "unit": "F", "type": "electrolytic low ESR"},
          "C_in": {"value": 47e-6, "unit": "F", "type": "ceramic"},
          "R_load": {"value": 16.0, "unit": "Ω"}
        },
        "design_equations": {
          "duty_cycle": "D = 1 - Vin/Vout = 1 - 9/24 = 0.625",
          "inductor": "L = Vin*D/(f_sw*ΔIL) = 9*0.625/(300e3*1.2) = 15.6µH → 22µH",
          "capacitor": "C = Iout*D/(f_sw*ΔVout) = 1.5*0.625/(300e3*0.12) = 26µF → 100µF"
        },
        "expected_results": {
          "vout_actual": 24.0,
          "ripple_mv": 100,
          "efficiency_est": 0.88
        }
      }
    },
    {
      "id": "L1_043",
      "prompt": "Design a SEPIC converter: 18V to 12V, 3A for industrial sensor node",
      "solution": {
        "topology": "sepic",
        "vin": 18.0,
        "vout": 12.0,
        "iout": 3.0,
        "power": 36.0,
        "f_sw": 250000,
        "duty_cycle": 0.4,
        "components": {
          "L1": {"value": 47e-6, "unit": "H", "rating": "4A saturation"},
          "L2": {"value": 47e-6, "unit": "H", "rating": "4A saturation"},
          "C_coupling": {"value": 10e-6, "unit": "F", "type": "ceramic X7R 50V"},
          "C_out": {"value": 220e-6, "unit": "F", "type": "electrolytic"},
          "C_in": {"value": 22e-6, "unit": "F", "type": "ceramic"},
          "R_load": {"value": 4.0, "unit": "Ω"}
        },
        "design_equations": {
          "duty_cycle": "D = Vout/(Vin+Vout) = 12/(18+12) = 0.4",
          "inductor": "L = Vin*D/(f_sw*ΔIL) = 18*0.4/(250e3*0.6) = 48µH → 47µH",
          "coupling_cap": "Cc handles AC ripple current, size for <5% voltage ripple"
        },
        "expected_results": {
          "vout_actual": 12.0,
          "ripple_mv": 70,
          "efficiency_est": 0.87
        }
      }
    },
    {
      "id": "L1_044",
      "prompt": "Design a Ćuk converter: 48V to -24V, 2A for industrial instrumentation",
      "solution": {
        "topology": "cuk",
        "vin": 48.0,
        "vout": -24.0,
        "iout": 2.0,
        "power": 48.0,
        "f_sw": 150000,
        "duty_cycle": 0.333,
        "components": {
          "L1": {"value": 220e-6, "unit": "H", "rating": "2.5A saturation"},
          "L2": {"value": 220e-6, "unit": "H", "rating": "2.5A saturation"},
          "C_coupling": {"value": 22e-6, "unit": "F", "type": "film 100V"},
          "C_out": {"value": 220e-6, "unit": "F", "type": "electrolytic"},
          "C_in": {"value": 47e-6, "unit": "F", "type": "ceramic"},
          "R_load": {"value": 12.0, "unit": "Ω"}
        },
        "design_equations": {
          "duty_cycle": "D = |Vout|/(Vin+|Vout|) = 24/(48+24) = 0.333",
          "inductor": "L1 = L2 = Vin*D/(f_sw*ΔIL) = 48*0.333/(150e3*0.4) = 267µH → 220µH",
          "coupling_cap": "Cc must handle DC component, use film for reliability"
        },
        "expected_results": {
          "vout_actual": -24.0,
          "ripple_mv": 80,
          "efficiency_est": 0.86
        }
      }
    },
    {
      "id": "L1_045",
      "prompt": "Design an inverting buck-boost: 24V to -5V, 2A for analog front-end",
      "solution": {
        "topology": "inverting_buck_boost",
        "vin": 24.0,
        "vout": -5.0,
        "iout": 2.0,
        "power": 10.0,
        "f_sw": 400000,
        "duty_cycle": 0.172,
        "components": {
          "L": {"value": 22e-6, "unit": "H", "rating": "3A saturation"},
          "C_out": {"value": 100e-6, "unit": "F", "type": "ceramic MLCC"},
          "C_in": {"value": 10e-6, "unit": "F", "type": "ceramic"},
          "R_load": {"value": 2.5, "unit": "Ω"}
        },
        "design_equations": {
          "duty_cycle": "D = |Vout|/(Vin+|Vout|) = 5/(24+5) = 0.172",
          "inductor": "L = Vin*D/(f_sw*ΔIL) = 24*0.172/(400e3*0.4) = 25.8µH → 22µH",
          "capacitor": "C = Iout*D/(f_sw*ΔVout) = 2*0.172/(400e3*0.025) = 34µF → 100µF"
        },
        "expected_results": {
          "vout_actual": -5.0,
          "ripple_mv": 25,
          "efficiency_est": 0.88
        }
      }
    },
    {
      "id": "L1_046",
      "prompt": "Design a flyback converter: 24V to 5V isolated, 4A for medical device",
      "solution": {
        "topology": "flyback",
        "vin": 24.0,
        "vout": 5.0,
        "iout": 4.0,
        "power": 20.0,
        "f_sw": 200000,
        "turns_ratio": 2.0,
        "duty_cycle": 0.29,
        "components": {
          "Lm": {"value": 68e-6, "unit": "H", "rating": "primary magnetizing inductance"},
          "transformer": {"turns_ratio": "2:1", "construction": "EE20 ferrite, triple insulated"},
          "C_out": {"value": 330e-6, "unit": "F", "type": "electrolytic + ceramic"},
          "C_in": {"value": 47e-6, "unit": "F", "type": "ceramic"},
          "R_load": {"value": 1.25, "unit": "Ω"},
          "clamp": {"type": "RCD", "value": "1kΩ, 1nF, ultrafast diode"}
        },
        "design_equations": {
          "turns_ratio": "N = Vin*D / (Vout*(1-D)) at boundary → N = 2:1",
          "duty_cycle": "D = N*Vout / (Vin + N*Vout) = 2*5/(24+10) = 0.29",
          "magnetizing_L": "Lm = Vin*D / (f_sw*ΔIm) = 24*0.29/(200e3*0.5) = 70µH → 68µH"
        },
        "expected_results": {
          "vout_actual": 5.0,
          "ripple_mv": 50,
          "efficiency_est": 0.84
        }
      }
    },
    {
      "id": "L1_047",
      "prompt": "Design a forward converter: 48V to 5V, 10A for network switch",
      "solution": {
        "topology": "forward",
        "vin": 48.0,
        "vout": 5.0,
        "iout": 10.0,
        "power": 50.0,
        "f_sw": 300000,
        "turns_ratio": 3.0,
        "duty_cycle": 0.31,
        "components": {
          "transformer": {"turns_ratio": "3:1", "construction": "EE25 ferrite"},
          "L_output": {"value": 10e-6, "unit": "H", "rating": "12A saturation"},
          "C_out": {"value": 470e-6, "unit": "F", "type": "MLCC array + electrolytic"},
          "C_in": {"value": 100e-6, "unit": "F", "type": "ceramic"},
          "R_load": {"value": 0.5, "unit": "Ω"},
          "reset_winding": {"ratio": "1:1 to primary"}
        },
        "design_equations": {
          "turns_ratio": "N = Vin_min*D_max / Vout = 42*0.45/5 ≈ 3:1",
          "duty_cycle": "D = Vout*N / Vin = 5*3/48 = 0.31",
          "output_inductor": "L = Vout*(1-D)/(f_sw*ΔIL) = 5*(1-0.31)/(300e3*2) = 5.75µH → 10µH"
        },
        "expected_results": {
          "vout_actual": 5.0,
          "ripple_mv": 25,
          "efficiency_est": 0.90
        }
      }
    },
    {
      "id": "L1_048",
      "prompt": "Design a half-bridge converter: 300V DC to 24V, 8A for industrial automation",
      "solution": {
        "topology": "half_bridge",
        "vin": 300.0,
        "vout": 24.0,
        "iout": 8.0,
        "power": 192.0,
        "f_sw": 150000,
        "turns_ratio": 3.0,
        "duty_cycle": 0.48,
        "components": {
          "transformer": {"turns_ratio": "3:1", "construction": "EE42 ferrite"},
          "L_output": {"value": 22e-6, "unit": "H", "rating": "12A saturation"},
          "C_out": {"value": 470e-6, "unit": "F", "type": "electrolytic low ESR"},
          "C_split": {"value": 47e-6, "unit": "F", "type": "film 200V each"},
          "C_in": {"value": 150e-6, "unit": "F", "type": "electrolytic 400V"},
          "R_load": {"value": 3.0, "unit": "Ω"}
        },
        "design_equations": {
          "voltage_gain": "Vout = Vin*D / (2*N) → D = 2*N*Vout/Vin = 2*3*24/300 = 0.48",
          "transformer": "N = Vin/(4*Vout) = 300/(4*24) ≈ 3:1",
          "output_inductor": "L = Vout*(1-2D)/(f_sw*ΔIL) = 24*(1-0.96)/(150e3*1.6) = 4µH → 22µH"
        },
        "expected_results": {
          "vout_actual": 24.0,
          "ripple_mv": 80,
          "efficiency_est": 0.93
        }
      }
    },
    {
      "id": "L1_049",
      "prompt": "Design a full-bridge converter: 600V DC to 28V, 35A for aerospace power",
      "solution": {
        "topology": "full_bridge",
        "vin": 600.0,
        "vout": 28.0,
        "iout": 35.0,
        "power": 980.0,
        "f_sw": 100000,
        "turns_ratio": 10.0,
        "duty_cycle": 0.47,
        "components": {
          "transformer": {"turns_ratio": "10:1", "construction": "EE55 ferrite, Litz wire secondary"},
          "L_output": {"value": 15e-6, "unit": "H", "rating": "45A, Kool-Mu core"},
          "C_out": {"value": 1000e-6, "unit": "F", "type": "electrolytic array"},
          "C_in": {"value": 220e-6, "unit": "F", "type": "film 800V"},
          "R_load": {"value": 0.8, "unit": "Ω"},
          "snubber": {"type": "RCD", "value": "150Ω, 4.7nF, SiC diode"}
        },
        "design_equations": {
          "voltage_gain": "Vout = Vin*D / N → D = N*Vout/Vin = 10*28/600 = 0.47",
          "transformer": "N = Vin_nom/(2*Vout) = 600/(2*28) ≈ 10:1",
          "output_inductor": "L = Vout*(1-D)/(f_sw*ΔIL) = 28*(1-0.47)/(100e3*7) = 21µH → 15µH"
        },
        "expected_results": {
          "vout_actual": 28.0,
          "ripple_mv": 100,
          "efficiency_est": 0.94
        }
      }
    },
    {
      "id": "L1_050",
      "prompt": "Design a quasi-resonant buck: 24V to 3.3V, 8A for FPGA core supply",
      "solution": {
        "topology": "qr_buck",
        "vin": 24.0,
        "vout": 3.3,
        "iout": 8.0,
        "power": 26.4,
        "f_sw": 500000,
        "duty_cycle": 0.138,
        "components": {
          "L_main": {"value": 4.7e-6, "unit": "H", "rating": "10A saturation, low DCR"},
          "L_resonant": {"value": 470e-9, "unit": "H", "note": "air core or multilayer chip"},
          "C_resonant": {"value": 1e-9, "unit": "F", "type": "C0G/NP0 ceramic"},
          "C_out": {"value": 330e-6, "unit": "F", "type": "MLCC array X5R"},
          "C_in": {"value": 22e-6, "unit": "F", "type": "ceramic X7R"},
          "R_load": {"value": 0.4125, "unit": "Ω"}
        },
        "design_equations": {
          "duty_cycle": "D = Vout/Vin = 3.3/24 = 0.138",
          "resonant_freq": "fr = 1/(2π√(Lr*Cr)) = 1/(2π√(470nH*1nF)) = 7.3MHz",
          "zvs_condition": "fr >> f_sw for ZVS, reduces switching losses and EMI"
        },
        "expected_results": {
          "vout_actual": 3.3,
          "ripple_mv": 20,
          "efficiency_est": 0.92
        }
      }
    }
  ]
}
